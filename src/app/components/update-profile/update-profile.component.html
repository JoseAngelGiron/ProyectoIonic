<app-header title="Actualizar usuario" [isModal]="true"></app-header>
<ion-content>
  <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()">
    <ion-avatar class="center-avatar">
      <img [src]="form.value.image" alt=""/>
    </ion-avatar>
    <ion-icon class="image-icon" name="image-outline"></ion-icon>
    <br/>
    <ion-button (click)="takeImage()" size="small" shape="round" mode="ios">
      Tomar / Seleccionar
    </ion-button>

    <app-custom-input autocomplete="name" [control]="form.controls.name" type="text" icon="person-outline"
                      label="Nombre"></app-custom-input>
    <div class="validators" *ngIf="form.get('name')?.errors && form.get('name')?.touched">
      <div *ngIf="form.get('name')?.errors?.['required']">
        Debe especificar un nombre
      </div>
      <div *ngIf="form.get('name')?.errors?.['minlength']">
        El nombre debe tener al menos 6 caracteres
      </div>
    </div>

    <app-custom-input autocomplete="email" [control]="form.controls.email" type="text" icon="mail-outline"
                      label="email"></app-custom-input>
    <div class="validators" *ngIf="form.get('email')?.errors && form.get('email')?.touched">
      <div *ngIf="form.get('email')?.errors?.['required']">
        Debe especificar un email
      </div>
      <div *ngIf="form.get('email')?.errors?.['email']">
        El email debe ser v√°lido
      </div>
    </div>

    <ion-button mode="ios" class="ion-margin" type="submit" [disabled]="form.invalid">
      <ion-icon class="image-icon" name="refresh-outline"></ion-icon>
      Actualizar
      <ion-icon class="image-icon" name="refresh-outline"></ion-icon>

    </ion-button>
  </form>
</ion-content>
